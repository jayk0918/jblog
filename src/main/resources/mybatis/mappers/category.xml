<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="category">

	<resultMap id="resultMapCategoryVo" type="com.javaex.vo.CategoryVo">
		<result column="cateno" property="cateNo" />
		<result column="catename" property="cateName" />
		<result column="description" property="description" />
		<result column="reg_date" property="date" />
		<result column="count" property="count" />
	</resultMap>

	<select id="getList" resultMap="resultMapCategoryVo">

	<![CDATA[
		select  cate.cateno
       			,cate.catename
        		,ct.count
        		,cate.description

		from category cate
			,

		(select cateno
		        ,count(*) count
		from post
		group by cateno) ct
		where cate.cateno = ct.cateno
		order by cate.cateno desc
		]]>

	</select>








</mapper>